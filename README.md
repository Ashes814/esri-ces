# 本仓库用于2022易智瑞开发竞赛项目文档版本控制
- [项目在线文档](https://swamp-maraca-1c5.notion.site/ESRI-6c88c4d4c597494980ce11c6b599a9ab)




## 内容介绍
- `Docs`：包括竞赛过程中的文字报告，如`项目计划书`，`项目论文`等
- `References`：包括所用参考文献内容，通过notion进行[文献管理](https://swamp-maraca-1c5.notion.site/5c17b655b6a2430f8702d1dd13302f27?v=a24ed3d7d7be468581a8f53b17c56178)


## 数据准备
1. 统一CRS:`EPSG:32651`
2. 矢量数据
  1. 上海主城区面要素(`sh_main.shp`)
  2. 上海主城区乡镇面要素(`sh_main_town.shp`)
  3. 带有各种人口信息的居民建筑物轮廓面要素(`sh_main_building.shp`)
  4. 上海主城区的lucc数据(`sh_main_lucc.shp`)
3. 栅格数据
   1. 

## 处理流程
1. 创建格网分析单元
   1. 市中心面(`sh_main`)转换成5m乘5m格网(`sh_main_grid`)
   2. 市中心格网(`sh_main_grid`)添加字段:`id` 作为每个格网的唯一标识
   3. 市中心格网(`sh_main_grid`)转换成点(`sh_main_grid_point`)
   4. 
2. 计算每个网格的供给与需求
   1. 供给的区域是所有包含蓝绿空间的网格
      1. 计算每个网格包含的蓝绿空间面积比重
         1. 
      2. 计算每个网格中ndvi的均值
      3. 计算每个网格中蓝绿空间的类型(如果出现一个网格中存在不同的蓝绿空间类型,则取面积最大的那个)
   2. 需求的区域是所有包含居民区building的网格
      1. 计算每个网格中的人口数量
      2. 计算每个网格中的外来人口数量
      3. 计算每个网格中的男性人口数量
      4. 计算每个网格中的女性人口数量
      5. 计算每个网格中三个年龄阶段的人口数量
      6. 计算每个网格中少数民族的数量
      7. 计算每个网格中的房价均值
      8. 以每个网格点为中心,绘制15分钟步行缓冲区
      9. 统计15分钟步行缓冲区内的供给总量
      10. 以该总量作为该网格点收到的供给总量
3. 计算供需匹配

## Arcpy 
